{"version":3,"file":"decode-source-map.js","sources":["../../src/cli/decode-source-map.ts","../../src/decode.ts","../../src/utils/to-buffer.ts","../../src/utils/read-file.ts","../../src/mappings-decoder.ts","../../src/vlq.ts","../../src/base64.ts","../../src/int-buffer-reader.ts","../../src/decoder.ts","../../src/mapping-factories.ts"],"sourcesContent":["import { decode, decodeFile } from '../decode';\n\nconst concat = require('concat-stream');\nconst length = process.argv.length;\n\nif (length === 3) {\n  console.log(JSON.stringify(decodeFile(process.argv[2])));\n} else if (length === 2) {\n  process.stdin.pipe(concat((data: string) => {\n    console.log(JSON.stringify(decode(JSON.parse(data))));\n  }));\n} else {\n  console.error('USAGE: decode FILE');\n  process.exit(1);\n}\n","import Decoder from './decoder';\nimport IntBufferReader from './int-buffer-reader';\nimport { DecodedSourceMap } from './interfaces';\nimport MappingsDecoder from './mappings-decoder';\nimport readFile from './utils/read-file';\nimport toBuffer from './utils/to-buffer';\n\nexport function decode(map: any): DecodedSourceMap {\n  const buffer = toBuffer(map.mappings);\n  const reader = new IntBufferReader(buffer, 0, buffer.length);\n  const decoder = new Decoder();\n  const mappingsDecoder = new MappingsDecoder(decoder);\n\n  mappingsDecoder.decode(reader);\n\n  map.mappings = decoder.mappings;\n\n  return map;\n}\n\nexport function decodeFile(path: string) {\n  return decode(JSON.parse(readFile(path)));\n}\n","export default function toBuffer(str: string) {\n  const buffer = new Uint8Array(str.length);\n  for (let i = 0; i < buffer.length; i++) {\n    // this is for base64 so we know these are all < 123\n    buffer[i] = str.charCodeAt(i) | 0;\n  }\n  return buffer;\n}\n","const fs: FS | undefined = (() => {\n  if (typeof module === 'object' &&\n    typeof module.exports === 'object' &&\n    typeof require === 'function') {\n    return require('fs');\n  }\n})();\n\nconst readFile: (path: string) => string = fs === undefined ? () => { throw new Error('readFile not supported'); } :\n                       (path) => fs.readFileSync(path, { encoding: 'utf8' });\n\ninterface FS {\n  readFileSync(path: string, options: { encoding: string }): string;\n}\n\nexport default readFile;\n","import Reader from './reader';\nimport { decodeVLQ } from './vlq';\n\nexport interface Delegate {\n  newline(): void;\n  mapping1(column: number): void;\n  mapping4(column: number, source: number, sourceLine: number, sourceColumn: number): void;\n  mapping5(column: number, source: number, sourceLine: number, sourceColumn: number, name: number): void;\n}\n\nexport default class MappingsDecoder {\n  // absolutes\n  public line = 0;\n  public column = 0;\n  public source = 0;\n  public sourceLine = 0;\n  public sourceColumn = 0;\n  public name = 0;\n\n  public fieldCount = 0;\n\n  public delegate: Delegate;\n\n  constructor(delegate: Delegate) {\n    this.delegate = delegate;\n  }\n\n  public decode(reader: Reader) {\n    while (reader.hasNext()) {\n      switch (reader.peek()) {\n        case 59: // semicolon\n          if (this.fieldCount > 0) {\n            this.emitMapping();\n          }\n          this.emitNewline();\n          this.column = 0;\n          this.fieldCount = 0;\n          reader.next();\n          break;\n        case 44: // comma\n          this.emitMapping();\n          this.fieldCount = 0;\n          reader.next();\n          break;\n        default:\n          this.decodeField(reader);\n          break;\n      }\n    }\n    if (this.fieldCount > 0) {\n      this.emitMapping();\n    }\n  }\n\n  public emitNewline() {\n    this.delegate.newline();\n  }\n\n  public emitMapping() {\n    switch (this.fieldCount) {\n      case 1:\n        this.delegate.mapping1(this.column);\n        break;\n      case 4:\n        this.delegate.mapping4(this.column, this.source, this.sourceLine, this.sourceColumn);\n        break;\n      case 5:\n        this.delegate.mapping5(this.column, this.source, this.sourceLine, this.sourceColumn, this.name);\n        break;\n    }\n  }\n\n  public decodeField(reader: Reader) {\n    const value = decodeVLQ(reader) | 0;\n    switch (this.fieldCount) {\n      case 0:\n        this.column += value;\n        this.fieldCount = 1;\n        break;\n      case 1:\n        this.source += value;\n        this.fieldCount = 2;\n        break;\n      case 2:\n        this.sourceLine += value;\n        this.fieldCount = 3;\n        break;\n      case 3:\n        this.sourceColumn += value;\n        this.fieldCount = 4;\n        break;\n      case 4:\n        this.name += value;\n        this.fieldCount = 5;\n        break;\n    }\n  }\n}\n","import { asciiToUint6, uint6ToASCII } from './base64';\nimport Reader from './reader';\nimport Writer from './writer';\n\n// 0 - 63 (6-bit 0 - 111111)\n// 32 100000 continuation bit\n// 31 011111 mask 5 bits\n// 1 is the sign bit\nexport function encodeVLQ(writer: Writer, v: number) {\n  let num = v < 0 ? (-v << 1) | 1 : v << 1;\n  let cont = false;\n  do {\n    let digit = num & 31;\n    num >>= 5;\n    cont = num > 0;\n    if (cont) {\n      digit |= 32;\n    }\n    writer.write(uint6ToASCII[digit]);\n  } while (cont);\n}\n\nexport function decodeVLQ(reader: Reader) {\n  let num = 0;\n  let shift = 0;\n  let digit = 0;\n  let cont = 0;\n  do {\n    digit = asciiToUint6[reader.read()];\n    cont  = digit & 32;\n    digit = digit & 31;\n    num   = num + (digit << shift);\n    shift += 5;\n  } while (cont > 0);\n  return num & 1 ? -(num >> 1) : (num >> 1);\n}\n","export let uint6ToASCII = new Uint8Array(64);\nexport let asciiToUint6 = new Uint8Array(127);\n\nconst chars = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/';\nfor (let i = 0; i < 64; i++) {\n  const ascii = chars.charCodeAt(i);\n  uint6ToASCII[i] = ascii;\n  asciiToUint6[ascii] = i;\n}\n","import Reader from './reader';\n\nexport default class IntBufferReader implements Reader {\n  public buf: number[] | Uint8Array;\n  public ptr: number;\n  public limit: number;\n\n  constructor(buf: number[] | Uint8Array, ptr: number, len: number) {\n    this.buf = buf;\n    this.ptr = ptr | 0;\n    this.limit = (ptr + len) | 0;\n  }\n\n  public peek() {\n    return this.buf[this.ptr | 0] | 0;\n  }\n\n  public read() {\n    const n = this.buf[this.ptr | 0] | 0;\n    this.ptr = (this.ptr + 1) | 0;\n    return n;\n  }\n\n  public next() {\n    this.ptr = (this.ptr + 1) | 0;\n  }\n\n  public hasNext(): boolean {\n    return this.ptr < this.limit;\n  }\n}\n","import { DecodedMappings, LineMappings } from './interfaces';\nimport { createMapping1, createMapping4, createMapping5 } from './mapping-factories';\nimport { Delegate } from './mappings-decoder';\n\nexport default class Decoder implements Delegate {\n  public currentLine: LineMappings = [];\n\n  public mappings: DecodedMappings = [this.currentLine];\n\n  public newline() {\n    this.currentLine = [];\n    this.mappings.push(this.currentLine);\n  }\n\n  public mapping1(col: number) {\n    this.currentLine.push(createMapping1(col));\n  }\n\n  public mapping4(col: number, src: number, srcLine: number, srcCol: number) {\n    this.currentLine.push(createMapping4(col, src, srcLine, srcCol));\n  }\n\n  public mapping5(col: number, src: number, srcLine: number, srcCol: number, name: number) {\n    this.currentLine.push(createMapping5(col, src, srcLine, srcCol, name));\n  }\n}\n","import { DecodedMapping } from './interfaces';\n\nexport function createMapping1(col: number): DecodedMapping {\n  return {\n    col,\n    fieldCount: 1,\n    name: 0,\n    src: 0,\n    srcCol: 0,\n    srcLine: 0,\n  };\n}\n\nexport function createMapping4(col: number, src: number, srcLine: number, srcCol: number): DecodedMapping {\n  return {\n    col,\n    fieldCount: 4,\n    name: 0,\n    src,\n    srcCol,\n    srcLine,\n  };\n}\n\nexport function createMapping5(col: number,\n                               src: number,\n                               srcLine: number,\n                               srcCol: number,\n                               name: number): DecodedMapping {\n  return {\n    col,\n    fieldCount: 5,\n    name,\n    src,\n    srcCol,\n    srcLine,\n  };\n}\n"],"names":[],"mappings":"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"}